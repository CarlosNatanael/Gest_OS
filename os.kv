#:import hex kivy.utils.get_color_from_hex
#:import DarkButton main.DarkButton
#:import DarkTextInput main.DarkTextInput

<FormularioOS>:
    orientation: "vertical"
    padding: [35, 20]
    spacing: 20
    canvas.before:
        Color:
            rgba: hex('#121212')
        Rectangle:
            pos: self.pos
            size: self.size

    Label:
        text: "ORDEM DE SERVIÇO"
        font_size: '18sp'
        bold: True
        color: hex('#036ffc')
        size_hint_y: None
        height: 40

    BoxLayout:
        orientation: "vertical"
        spacing: 12
        padding: [15, 15, 15, 20]
        canvas.before:
            Color:
                rgba: hex('#1E1E1E')
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [10]

        DarkTextInput:
            id: equipamento
            hint_text: "Equipamento *"

        DarkTextInput:
            id: problema
            hint_text: "Descrição do Problema"
            multiline: True
            height: 100

        DarkTextInput:
            id: solucao
            hint_text: "Solução Aplicada"
            multiline: True
            height: 100

        DarkTextInput:
            id: inicio_os
            hint_text: "Início da OS (ex: 29/05/2025 08:00)"
            multiline: False
            size_hint_y: None
            height: 40

        DarkTextInput:
            id: fim_os
            hint_text: "Fim da OS (ex: 29/05/2025 08:30)"
            multiline: False
            size_hint_y: None
            height: 40

    BoxLayout:
        size_hint_y: None
        height: 50
        spacing: 12

        DarkButton:
            text: "SALVAR OS"
            on_release: root.enviar_os()
            canvas.before:
                Color:
                    rgba: hex('#3d5b82')
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [6]

    DarkButton:
        text: "LIMPAR"
        font_size: '14sp'
        on_release: root.limpar_campos()
        canvas.before:
            Color:
                rgba: hex('#242c40')
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [6]

    DarkButton:
        text: "HISTÓRICO"
        font_size: '14sp'
        on_release: root.mostrar_os_salvas()
        canvas.before:
            Color:
                rgba: hex('#242c40')
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [6]

    DarkButton:
        text: "RELATÓRIO"
        font_size: '14sp'
        on_release: app.root.mostrar_mensagem("Função ainda não implementada", "Relatório")
        canvas.before:
            Color:
                rgba: hex('#242c40')
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [6]
